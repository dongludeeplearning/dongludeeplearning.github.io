<!doctype html>
<html>
<head>
<meta charset="utf-8">
<style>
  :root{
      --bg:#0b1020;
      --panel:#0f1733;
      --panel2:#0c1430;
      --text:#e8ecff;
      --muted:#aeb7e6;
      --border:rgba(255,255,255,.10);
      --accent:#7aa2ff;
      --accent2:#8bffcf;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius:16px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  }
  body {
    background: transparent;
    background-color: var(--bg);
    color: var(--text);
    font-family: var(--sans);
    margin: 0;
    padding: 16px;
    box-sizing: border-box;
  }
  ::-webkit-scrollbar { width: 8px; height: 8px; }
  ::-webkit-scrollbar-track { background: rgba(0,0,0,0.1); }
  ::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.15); border-radius: 4px; }
  ::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.25); }
</style>
<script>
function toggleLang(btn) {
  const container = btn.closest('div');
  const enElements = container.querySelectorAll('.lang-en');
  const zhElements = container.querySelectorAll('.lang-zh');

  enElements.forEach(el => {
    el.style.display = (el.style.display === 'none') ? 'block' : 'none';
  });

  zhElements.forEach(el => {
    el.style.display = (el.style.display === 'none') ? 'block' : 'none';
  });
}
function openLocalPdf(filename) {
  window.open('pdfs/' + filename, '_blank');
}
function delLocalPdf(filename) {
  if (confirm('Delete local PDF file: ' + filename + '? Note: This requires server environment to actually delete files.')) {
    alert('Delete function needs to be implemented on the server side.');
  }
}
</script>
</head>
<body>
<section style="max-width:980px;margin:0 auto;">
    <div style="padding:16px;border:1px solid rgba(255,255,255,.10);border-radius:16px;background:rgba(0,0,0,.10); position: relative;">
      <button onclick="toggleLang(this)" style="position: absolute; top: 16px; right: 16px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: #aeb7e6; padding: 4px 10px; border-radius: 8px; cursor: pointer; font-size: 12px;">ä¸­ / En</button>
      <div style="font-family:ui-monospace,Menlo,Consolas,monospace;color:rgba(232,236,255,.7);font-size:12px;">
        Paper Digest â€¢ ICLR 2023
      </div>
      <h1 style="margin:6px 0 0;font-size:22px;line-height:1.25;">Self-Consistency Improves Chain of Thought Reasoning in Language Models</h1>
      <div style="margin-top:6px;color:rgba(232,236,255,.6);font-size:12px;line-height:1.5;">
        Xuezhi Wang, Jason Wei, Dale Schuurmans, Quoc Le, Ed Chi, Sharan Narang, Aakanksha Chowdhery, Denny Zhou<br>
        <span style="opacity:0.8">Google Research, Brain Team</span>
      </div>
      <div style="margin-top:12px;padding-top:12px;border-top:1px solid rgba(255,255,255,.08);color:rgba(232,236,255,.75);font-size:13px;line-height:1.6;">
        <div class="lang-en">
            <b>One-Sentence Problem:</b> How can we replace greedy decoding in chain-of-thought prompting with a sampling-based approach to improve reasoning accuracy by leveraging diverse reasoning paths that lead to consistent answers?
        </div>
        <div class="lang-zh" style="display:none">
            <b>ä¸€å¥è¯é—®é¢˜ï¼š</b>å¦‚ä½•ç”¨åŸºäºé‡‡æ ·çš„æ–¹æ³•æ›¿æ¢æ€ç»´é“¾æç¤ºä¸­çš„è´ªå©ªè§£ç ï¼Œä»¥åˆ©ç”¨å¯¼è‡´ä¸€è‡´ç­”æ¡ˆçš„å¤šæ ·åŒ–æ¨ç†è·¯å¾„æ¥æé«˜æ¨ç†å‡†ç¡®æ€§ï¼Ÿ
        </div>
      </div>
    </div>

    <div style="display:grid;grid-template-columns:1fr;gap:14px;margin-top:14px;">
      <div style="padding:16px;border:1px solid rgba(255,255,255,.10);border-radius:16px;background:rgba(0,0,0,.10); position: relative;">
        <button onclick="toggleLang(this)" style="position: absolute; top: 16px; right: 16px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: #aeb7e6; padding: 4px 10px; border-radius: 8px; cursor: pointer; font-size: 12px;">ä¸­ / En</button>
        <h2 style="margin:0 0 8px;font-size:16px;">Contributionsï¼ˆè´¡çŒ®ï¼‰</h2>
        <ul style="margin:0;padding-left:18px;color:rgba(232,236,255,.80);line-height:1.65;">
          <li style="margin-bottom:8px;">
            <div class="lang-en"><b>Self-Consistency Decoding Strategy:</b> Introduced a novel decoding approach that replaces greedy decoding in chain-of-thought prompting by sampling diverse reasoning paths and selecting the most consistent final answer.</div>
            <div class="lang-zh" style="display:none"><b>è‡ªæˆ‘ä¸€è‡´æ€§è§£ç ç­–ç•¥ï¼š</b>å¼•å…¥äº†ä¸€ç§æ–°é¢–çš„è§£ç æ–¹æ³•ï¼Œé€šè¿‡é‡‡æ ·å¤šæ ·åŒ–çš„æ¨ç†è·¯å¾„å¹¶é€‰æ‹©æœ€ä¸€è‡´çš„æœ€ç»ˆç­”æ¡ˆæ¥æ›¿æ¢æ€ç»´é“¾æç¤ºä¸­çš„è´ªå©ªè§£ç ã€‚</div>
          </li>
          <li style="margin-bottom:8px;">
            <div class="lang-en"><b>Significant Performance Gains:</b> Achieved striking improvements over chain-of-thought prompting, including +17.9% on GSM8K, +12.2% on AQuA, +11.0% on SVAMP, and +6.4% on StrategyQA, reaching new state-of-the-art results.</div>
            <div class="lang-zh" style="display:none"><b>æ˜¾è‘—æ€§èƒ½æå‡ï¼š</b>åœ¨æ€ç»´é“¾æç¤ºåŸºç¡€ä¸Šå®ç°äº†æ˜¾è‘—æ”¹è¿›ï¼ŒåŒ…æ‹¬GSM8Kä¸Š+17.9%ã€AQuAä¸Š+12.2%ã€SVAMPä¸Š+11.0%ã€StrategyQAä¸Š+6.4%ï¼Œè¾¾åˆ°æ–°çš„æœ€å…ˆè¿›æ°´å¹³ã€‚</div>
          </li>
          <li style="margin-bottom:8px;">
            <div class="lang-en"><b>Robust and Unsupervised:</b> The method is completely unsupervised, requires no additional training or fine-tuning, and is robust across different language models (UL2-20B, GPT-3-175B, LaMDA-137B, PaLM-540B) and sampling strategies.</div>
            <div class="lang-zh" style="display:none"><b>é²æ£’ä¸”æ— ç›‘ç£ï¼š</b>è¯¥æ–¹æ³•å®Œå…¨æ— ç›‘ç£ï¼Œä¸éœ€è¦é¢å¤–è®­ç»ƒæˆ–å¾®è°ƒï¼Œå¹¶åœ¨ä¸åŒè¯­è¨€æ¨¡å‹ï¼ˆUL2-20Bã€GPT-3-175Bã€LaMDA-137Bã€PaLM-540Bï¼‰å’Œé‡‡æ ·ç­–ç•¥ä¸­ä¿æŒé²æ£’ã€‚</div>
          </li>
          <li style="margin-bottom:8px;">
            <div class="lang-en"><b>Comprehensive Evaluation:</b> Demonstrated superiority over existing approaches including sample-and-rank, beam search, and ensemble methods, while showing that self-consistency can help when chain-of-thought hurts performance on other NLP tasks.</div>
            <div class="lang-zh" style="display:none"><b>å…¨é¢è¯„ä¼°ï¼š</b>è¯æ˜äº†ä¼˜äºç°æœ‰æ–¹æ³•ï¼ˆåŒ…æ‹¬é‡‡æ ·æ’åºã€æŸæœç´¢å’Œé›†æˆæ–¹æ³•ï¼‰çš„æ€§èƒ½ï¼ŒåŒæ—¶å±•ç¤ºäº†è‡ªæˆ‘ä¸€è‡´æ€§å¯ä»¥åœ¨æ€ç»´é“¾å¯¹å…¶ä»–NLPä»»åŠ¡é€ æˆè´Ÿé¢å½±å“æ—¶æä¾›å¸®åŠ©ã€‚</div>
          </li>
        </ul>
      </div>

      <div style="padding:16px;border:1px solid rgba(255,255,255,.10);border-radius:16px;background:rgba(0,0,0,.10); position: relative;">
        <button onclick="toggleLang(this)" style="position: absolute; top: 16px; right: 16px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: #aeb7e6; padding: 4px 10px; border-radius: 8px; cursor: pointer; font-size: 12px;">ä¸­ / En</button>
        <h2 style="margin:0 0 8px;font-size:16px;">Challengesï¼ˆæŒ‘æˆ˜ï¼‰</h2>
        <ul style="margin:0;padding-left:18px;color:rgba(232,236,255,.80);line-height:1.65;">
          <li style="margin-bottom:8px;">
            <div class="lang-en"><b>Greedy Decoding Limitations:</b> Chain-of-thought prompting relies on greedy decoding which can produce suboptimal or incorrect reasoning paths due to local optimality and lack of diversity in reasoning processes.</div>
            <div class="lang-zh" style="display:none"><b>è´ªå©ªè§£ç å±€é™æ€§ï¼š</b>æ€ç»´é“¾æç¤ºä¾èµ–è´ªå©ªè§£ç ï¼Œç”±äºå±€éƒ¨æœ€ä¼˜æ€§å’Œæ¨ç†è¿‡ç¨‹ç¼ºä¹å¤šæ ·æ€§ï¼Œå¯èƒ½äº§ç”Ÿæ¬¡ä¼˜æˆ–é”™è¯¯çš„æ¨ç†è·¯å¾„ã€‚</div>
          </li>
          <li style="margin-bottom:8px;">
            <div class="lang-en"><b>Reasoning Path Diversity:</b> Complex reasoning problems often admit multiple valid approaches, but greedy decoding fails to explore this diversity, potentially missing better reasoning paths that lead to correct answers.</div>
            <div class="lang-zh" style="display:none"><b>æ¨ç†è·¯å¾„å¤šæ ·æ€§ï¼š</b>å¤æ‚æ¨ç†é—®é¢˜é€šå¸¸å…è®¸å¤šç§æœ‰æ•ˆæ–¹æ³•ï¼Œä½†è´ªå©ªè§£ç æ— æ³•æ¢ç´¢è¿™ç§å¤šæ ·æ€§ï¼Œå¯èƒ½é”™è¿‡å¯¼è‡´æ­£ç¡®ç­”æ¡ˆçš„æ›´å¥½æ¨ç†è·¯å¾„ã€‚</div>
          </li>
          <li style="margin-bottom:8px;">
            <div class="lang-en"><b>Answer Consistency:</b> Different reasoning paths might lead to different answers, making it challenging to determine which answer is most reliable when there are multiple plausible reasoning processes.</div>
            <div class="lang-zh" style="display:none"><b>ç­”æ¡ˆä¸€è‡´æ€§ï¼š</b>ä¸åŒçš„æ¨ç†è·¯å¾„å¯èƒ½å¯¼è‡´ä¸åŒçš„ç­”æ¡ˆï¼Œå½“å­˜åœ¨å¤šä¸ªåˆç†çš„æ¨ç†è¿‡ç¨‹æ—¶ï¼Œç¡®å®šå“ªä¸ªç­”æ¡ˆæœ€å¯é å…·æœ‰æŒ‘æˆ˜æ€§ã€‚</div>
          </li>
          <li style="margin-bottom:8px;">
            <div class="lang-en"><b>Sampling Strategy Optimization:</b> Choosing appropriate sampling parameters (temperature, top-k, nucleus sampling) to generate diverse yet high-quality reasoning paths without introducing too much noise or irrelevance.</div>
            <div class="lang-zh" style="display:none"><b>é‡‡æ ·ç­–ç•¥ä¼˜åŒ–ï¼š</b>é€‰æ‹©åˆé€‚çš„é‡‡æ ·å‚æ•°ï¼ˆæ¸©åº¦ã€top-kã€æ ¸é‡‡æ ·ï¼‰ä»¥ç”Ÿæˆå¤šæ ·åŒ–ä¸”é«˜è´¨é‡çš„æ¨ç†è·¯å¾„ï¼ŒåŒæ—¶é¿å…å¼•å…¥è¿‡å¤šå™ªå£°æˆ–æ— å…³å†…å®¹ã€‚</div>
          </li>
        </ul>
      </div>

      <div style="padding:16px;border:1px solid rgba(255,255,255,.10);border-radius:16px;background:rgba(0,0,0,.10); position: relative;">
        <button onclick="toggleLang(this)" style="position: absolute; top: 16px; right: 16px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: #aeb7e6; padding: 4px 10px; border-radius: 8px; cursor: pointer; font-size: 12px;">ä¸­ / En</button>
        <h2 style="margin:0 0 8px;font-size:16px;">Methodï¼ˆæ–¹æ³•ï¼‰</h2>
        <div style="margin:0;padding-left:18px;color:rgba(232,236,255,.80);line-height:1.65;">
          <div class="lang-en">
            <p>The self-consistency method enhances chain-of-thought prompting through diverse reasoning path sampling:</p>
            <ol style="margin:8px 0;">
                <li style="margin-bottom:6px;"><b>Chain-of-Thought Base:</b> Start with standard chain-of-thought prompting where the model generates step-by-step reasoning to arrive at a final answer.</li>
                <li style="margin-bottom:6px;"><b>Diverse Path Sampling:</b> Instead of greedy decoding, sample multiple reasoning paths from the language model using temperature sampling, top-k truncation, or nucleus sampling to generate diverse reasoning trajectories.</li>
                <li style="margin-bottom:6px;"><b>Answer Marginalization:</b> For each sampled reasoning path, extract the final answer and apply majority voting to select the most consistent answer across all sampled paths.</li>
                <li style="margin-bottom:6px;"><b>Consistency Principle:</b> Leverage the intuition that complex reasoning problems typically admit multiple reasoning paths leading to the same correct answer, using answer agreement as a signal of correctness.</li>
                <li style="margin-bottom:6px;"><b>Robust Aggregation:</b> Use weighted aggregation strategies based on answer probabilities when available, or simple majority vote when probability information is not accessible.</li>
            </ol>
          </div>
          <div class="lang-zh" style="display: none;">
            <p>è‡ªæˆ‘ä¸€è‡´æ€§æ–¹æ³•é€šè¿‡å¤šæ ·åŒ–æ¨ç†è·¯å¾„é‡‡æ ·æ¥å¢å¼ºæ€ç»´é“¾æç¤ºï¼š</p>
            <ol style="margin:8px 0;">
                <li style="margin-bottom:6px;"><b>æ€ç»´é“¾åŸºç¡€ï¼š</b>ä»æ ‡å‡†æ€ç»´é“¾æç¤ºå¼€å§‹ï¼Œæ¨¡å‹ç”Ÿæˆé€æ­¥æ¨ç†ä»¥å¾—å‡ºæœ€ç»ˆç­”æ¡ˆã€‚</li>
                <li style="margin-bottom:6px;"><b>å¤šæ ·è·¯å¾„é‡‡æ ·ï¼š</b>ä¸æ˜¯ä½¿ç”¨è´ªå©ªè§£ç ï¼Œè€Œæ˜¯ä½¿ç”¨æ¸©åº¦é‡‡æ ·ã€top-kæˆªæ–­æˆ–æ ¸é‡‡æ ·ä»è¯­è¨€æ¨¡å‹é‡‡æ ·å¤šä¸ªæ¨ç†è·¯å¾„ï¼Œä»¥ç”Ÿæˆå¤šæ ·åŒ–çš„æ¨ç†è½¨è¿¹ã€‚</li>
                <li style="margin-bottom:6px;"><b>ç­”æ¡ˆè¾¹ç¼˜åŒ–ï¼š</b>å¯¹äºæ¯ä¸ªé‡‡æ ·çš„æ¨ç†è·¯å¾„ï¼Œæå–æœ€ç»ˆç­”æ¡ˆå¹¶åº”ç”¨å¤šæ•°æŠ•ç¥¨æ¥é€‰æ‹©æ‰€æœ‰é‡‡æ ·è·¯å¾„ä¸­æœ€ä¸€è‡´çš„ç­”æ¡ˆã€‚</li>
                <li style="margin-bottom:6px;"><b>ä¸€è‡´æ€§åŸç†ï¼š</b>åˆ©ç”¨å¤æ‚æ¨ç†é—®é¢˜é€šå¸¸å…è®¸å¤šä¸ªæ¨ç†è·¯å¾„å¯¼è‡´ç›¸åŒæ­£ç¡®ç­”æ¡ˆçš„ç›´è§‰ï¼Œä½¿ç”¨ç­”æ¡ˆä¸€è‡´æ€§ä½œä¸ºæ­£ç¡®æ€§çš„ä¿¡å·ã€‚</li>
                <li style="margin-bottom:6px;"><b>é²æ£’èšåˆï¼š</b>åœ¨å¯ç”¨æ—¶ä½¿ç”¨åŸºäºç­”æ¡ˆæ¦‚ç‡çš„åŠ æƒèšåˆç­–ç•¥ï¼Œæˆ–åœ¨æ¦‚ç‡ä¿¡æ¯ä¸å¯è®¿é—®æ—¶ä½¿ç”¨ç®€å•çš„å¤šæ•°æŠ•ç¥¨ã€‚</li>
            </ol>
          </div>
        </div>
      </div>

      <div style="padding:16px;border:1px solid rgba(255,255,255,.10);border-radius:16px;background:rgba(0,0,0,.10)">
        <h2 style="margin:0 0 8px;font-size:16px;">Intro Figureï¼ˆå¼•è¨€å›¾ï¼‰</h2>
        <div style="border-radius:14px; overflow:hidden;">
            <img src="Figures/self_consistency_intro.png" style="width:100%; height:auto; display:block; border-radius:8px;" alt="Intro Figure" />
        </div>
      </div>

      <div style="padding:16px;border:1px solid rgba(255,255,255,.10);border-radius:16px;background:rgba(0,0,0,.10)">
        <h2 style="margin:0 0 8px;font-size:16px;">Overview Figureï¼ˆç¤ºæ„å›¾ï¼‰</h2>
        <div style="border:1px dashed rgba(255,255,255,.18);border-radius:14px;padding:16px;color:rgba(232,236,255,.65);line-height:1.6;">
            <img src="Figures/self_consistency_overview01.png" style="width:100%; height:auto; display:block; border-radius:8px;" alt="Overview Figure" />
            <div style="height:1px; background:rgba(255,255,255,.10); margin:12px 0;"></div>
            <img src="Figures/self_consistency_overview02.png" style="width:100%; height:auto; display:block; border-radius:8px;" alt="Overview Figure" />
            <p>Self-consistency replaces greedy decoding in chain-of-thought prompting by sampling diverse reasoning paths and selecting the most consistent final answer. This approach leverages the intuition that correct reasoning typically admits multiple paths to the same answer.</p>
            <p>Note: The method achieves significant improvements across arithmetic and commonsense reasoning benchmarks, including +17.9% on GSM8K and +6.4% on StrategyQA, by aggregating answers from multiple sampled reasoning trajectories.</p>

            <div style="margin-top:12px; display:flex; gap:10px; justify-content:flex-end;">
                 <button onclick="openLocalPdf('arxiv_self_consistency.pdf')" style="background:rgba(139,255,207,0.1); border:1px solid rgba(139,255,207,0.3); color:#8bffcf; padding:6px 12px; border-radius:8px; cursor:pointer; font-size:12px;">ğŸ“‚ Open Local PDF</button>
                 <button onclick="delLocalPdf('arxiv_self_consistency.pdf')" style="background:rgba(255,100,100,0.1); border:1px solid rgba(255,100,100,0.3); color:#ff6464; padding:6px 12px; border-radius:8px; cursor:pointer; font-size:12px;">ğŸ—‘ï¸ Del Local PDF</button>
            </div>
        </div>
      </div>

      <div style="padding:16px;border:1px solid rgba(255,255,255,.10);border-radius:16px;background:rgba(0,0,0,.10); position: relative;">
        <button onclick="toggleLang(this)" style="position: absolute; top: 16px; right: 16px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: #aeb7e6; padding: 4px 10px; border-radius: 8px; cursor: pointer; font-size: 12px;">ä¸­ / En</button>
        <h2 style="margin:0 0 8px;font-size:16px;">Discussionï¼ˆè®¨è®ºï¼‰</h2>
        <h3 style="margin:12px 0 6px;font-size:14px;color:#8bffcf;">Why it Works?</h3>
        <div style="color:rgba(232,236,255,.80);line-height:1.65;">
          <div class="lang-en">
            <p>Self-consistency succeeds by leveraging the inherent diversity and consistency of correct reasoning:</p>
            <ul style="margin:8px 0;">
                <li style="margin-bottom:6px;"><b>Diverse Reasoning Paths:</b> Complex reasoning problems typically admit multiple valid approaches, and self-consistency explores this diversity rather than being trapped in a single potentially suboptimal greedy path.</li>
                <li style="margin-bottom:6px;"><b>Consistency as Correctness Signal:</b> When multiple independent reasoning paths converge on the same answer, this provides strong evidence of correctness, similar to human intuition that confidence increases with agreement.</li>
                <li style="margin-bottom:6px;"><b>Error Detection and Correction:</b> Incorrect reasoning paths often lead to inconsistent answers, allowing the aggregation process to effectively filter out errors and select the most reliable solution.</li>
                <li style="margin-bottom:6px;"><b>Robust to Model Limitations:</b> By sampling multiple paths, the method mitigates individual model failures and leverages the collective wisdom of diverse reasoning attempts.</li>
                <li style="margin-bottom:6px;"><b>Alignment with Human Reasoning:</b> The approach mirrors how humans often verify solutions by checking if multiple reasoning strategies lead to the same conclusion.</li>
            </ul>
          </div>
          <div class="lang-zh" style="display:none">
            <p>è‡ªæˆ‘ä¸€è‡´æ€§é€šè¿‡åˆ©ç”¨æ­£ç¡®æ¨ç†çš„å†…åœ¨å¤šæ ·æ€§å’Œä¸€è‡´æ€§è€ŒæˆåŠŸï¼š</p>
            <ul style="margin:8px 0;">
                <li style="margin-bottom:6px;"><b>å¤šæ ·æ¨ç†è·¯å¾„ï¼š</b>å¤æ‚æ¨ç†é—®é¢˜é€šå¸¸å…è®¸å¤šç§æœ‰æ•ˆæ–¹æ³•ï¼Œè‡ªæˆ‘ä¸€è‡´æ€§æ¢ç´¢è¿™ç§å¤šæ ·æ€§è€Œä¸æ˜¯é™·å…¥å•ä¸ªå¯èƒ½æ¬¡ä¼˜çš„è´ªå©ªè·¯å¾„ã€‚</li>
                <li style="margin-bottom:6px;"><b>ä¸€è‡´æ€§ä½œä¸ºæ­£ç¡®æ€§ä¿¡å·ï¼š</b>å½“å¤šä¸ªç‹¬ç«‹æ¨ç†è·¯å¾„æ”¶æ•›åˆ°ç›¸åŒç­”æ¡ˆæ—¶ï¼Œè¿™æä¾›äº†æ­£ç¡®æ€§çš„æœ‰åŠ›è¯æ®ï¼Œç±»ä¼¼äºäººç±»ç›´è§‰ï¼Œå³ä¸€è‡´æ€§ä¼šå¢åŠ ä¿¡å¿ƒã€‚</li>
                <li style="margin-bottom:6px;"><b>é”™è¯¯æ£€æµ‹ä¸çº æ­£ï¼š</b>é”™è¯¯çš„æ¨ç†è·¯å¾„é€šå¸¸å¯¼è‡´ä¸ä¸€è‡´çš„ç­”æ¡ˆï¼Œå…è®¸èšåˆè¿‡ç¨‹æœ‰æ•ˆåœ°è¿‡æ»¤é”™è¯¯å¹¶é€‰æ‹©æœ€å¯é çš„è§£å†³æ–¹æ¡ˆã€‚</li>
                <li style="margin-bottom:6px;"><b>å¯¹æ¨¡å‹å±€é™æ€§çš„é²æ£’æ€§ï¼š</b>é€šè¿‡é‡‡æ ·å¤šä¸ªè·¯å¾„ï¼Œè¯¥æ–¹æ³•å‡è½»äº†å•ä¸ªæ¨¡å‹å¤±è´¥ï¼Œå¹¶åˆ©ç”¨äº†å¤šæ ·æ¨ç†å°è¯•çš„é›†ä½“æ™ºæ…§ã€‚</li>
                <li style="margin-bottom:6px;"><b>ä¸äººç±»æ¨ç†å¯¹é½ï¼š</b>è¯¥æ–¹æ³•åæ˜ äº†äººç±»é€šå¸¸é€šè¿‡æ£€æŸ¥å¤šç§æ¨ç†ç­–ç•¥æ˜¯å¦å¯¼è‡´ç›¸åŒç»“è®ºæ¥éªŒè¯è§£å†³æ–¹æ¡ˆçš„æ–¹å¼ã€‚</li>
            </ul>
          </div>
        </div>
      </div>

      <div style="padding:16px;border:1px solid rgba(255,255,255,.10);border-radius:16px;background:rgba(0,0,0,.10); position: relative;">
        <button onclick="toggleLang(this)" style="position: absolute; top: 16px; right: 16px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: #aeb7e6; padding: 4px 10px; border-radius: 8px; cursor: pointer; font-size: 12px;">ä¸­ / En</button>
        <h2 style="margin:0 0 8px;font-size:16px;">Conclusionï¼ˆç»“è®ºï¼‰</h2>
        <div style="color:rgba(232,236,255,.80);line-height:1.65;">
          <div class="lang-en">
            <p>This groundbreaking work introduces self-consistency, a simple yet powerful decoding strategy that significantly enhances chain-of-thought prompting by replacing greedy decoding with a sample-and-marginalize approach. By sampling multiple diverse reasoning paths and selecting the most consistent answer through majority voting, self-consistency achieves remarkable improvements across a wide range of reasoning benchmarks, including arithmetic tasks like GSM8K (+17.9% absolute improvement) and commonsense reasoning tasks like StrategyQA (+6.4%). The method's elegance lies in its unsupervised nature, requiring no additional training or fine-tuning while being robust across different language models and sampling strategies. Self-consistency leverages the fundamental insight that correct reasoning problems typically admit multiple reasoning paths converging on the same answer, using answer agreement as a powerful signal of correctness. Experimental results demonstrate clear superiority over competing approaches including sample-and-rank, beam search, and ensemble methods, while also showing that self-consistency can help recover performance when chain-of-thought prompting hurts on other NLP tasks. This work represents a significant advancement in prompting techniques, offering a reliable and effective way to improve reasoning capabilities in large language models without architectural changes.</p>
          </div>
          <div class="lang-zh" style="display:none">
            <p>è¿™é¡¹å¼€åˆ›æ€§å·¥ä½œå¼•å…¥äº†è‡ªæˆ‘ä¸€è‡´æ€§ï¼Œè¿™æ˜¯ä¸€ç§ç®€å•è€Œå¼ºå¤§çš„è§£ç ç­–ç•¥ï¼Œé€šè¿‡ç”¨é‡‡æ ·-è¾¹ç¼˜åŒ–æ–¹æ³•æ›¿æ¢è´ªå©ªè§£ç æ¥æ˜¾è‘—å¢å¼ºæ€ç»´é“¾æç¤ºã€‚é€šè¿‡é‡‡æ ·å¤šä¸ªå¤šæ ·åŒ–æ¨ç†è·¯å¾„å¹¶é€šè¿‡å¤šæ•°æŠ•ç¥¨é€‰æ‹©æœ€ä¸€è‡´çš„ç­”æ¡ˆï¼Œè‡ªæˆ‘ä¸€è‡´æ€§åœ¨å¹¿æ³›çš„æ¨ç†åŸºå‡†ä¸Šå®ç°äº†æ˜¾è‘—æ”¹è¿›ï¼ŒåŒ…æ‹¬GSM8Kï¼ˆ+17.9%ç»å¯¹æ”¹è¿›ï¼‰ç­‰ç®—æœ¯ä»»åŠ¡å’ŒStrategyQAï¼ˆ+6.4%ï¼‰ç­‰å¸¸è¯†æ¨ç†ä»»åŠ¡ã€‚è¯¥æ–¹æ³•çš„ä¼˜é›…ä¹‹å¤„åœ¨äºå…¶æ— ç›‘ç£æ€§è´¨ï¼Œä¸éœ€è¦é¢å¤–è®­ç»ƒæˆ–å¾®è°ƒï¼ŒåŒæ—¶åœ¨ä¸åŒè¯­è¨€æ¨¡å‹å’Œé‡‡æ ·ç­–ç•¥ä¸­ä¿æŒé²æ£’ã€‚è‡ªæˆ‘ä¸€è‡´æ€§åˆ©ç”¨äº†æ­£ç¡®æ¨ç†é—®é¢˜é€šå¸¸å…è®¸å¤šä¸ªæ¨ç†è·¯å¾„æ”¶æ•›åˆ°ç›¸åŒç­”æ¡ˆçš„åŸºæœ¬è§è§£ï¼Œä½¿ç”¨ç­”æ¡ˆä¸€è‡´æ€§ä½œä¸ºæ­£ç¡®æ€§çš„æœ‰åŠ›ä¿¡å·ã€‚å®éªŒç»“æœè¯æ˜äº†ä¼˜äºåŒ…æ‹¬é‡‡æ ·æ’åºã€æŸæœç´¢å’Œé›†æˆæ–¹æ³•åœ¨å†…çš„ç«äº‰æ–¹æ³•çš„æ˜æ˜¾ä¼˜åŠ¿ï¼ŒåŒæ—¶è¿˜æ˜¾ç¤ºå½“æ€ç»´é“¾æç¤ºå¯¹å…¶ä»–NLPä»»åŠ¡é€ æˆè´Ÿé¢å½±å“æ—¶ï¼Œè‡ªæˆ‘ä¸€è‡´æ€§èƒ½å¸®åŠ©æ¢å¤æ€§èƒ½ã€‚è¿™é¡¹å·¥ä½œä»£è¡¨äº†æç¤ºæŠ€æœ¯çš„é‡å¤§è¿›æ­¥ï¼Œä¸ºæ— éœ€æ¶æ„æ›´æ”¹å³å¯æé«˜å¤§å‹è¯­è¨€æ¨¡å‹æ¨ç†èƒ½åŠ›çš„å¯é æœ‰æ•ˆæ–¹æ³•ã€‚</p>
          </div>
        </div>
      </div>

      <div style="padding:16px;border:1px solid rgba(255,255,255,.10);border-radius:16px;background:rgba(0,0,0,.10)">
        <h2 style="margin:0 0 8px;font-size:16px;">Official Code</h2>
        <div style="color:rgba(232,236,255,.80);line-height:1.65;">
          <p><b>ArXiv:</b> <a href="https://arxiv.org/abs/2203.11171" target="_blank" style="color:#8bffcf;">2203.11171</a></p>
        </div>
      </div>

      <div style="padding:16px;border:1px solid rgba(255,255,255,.10);border-radius:16px;background:rgba(0,0,0,.10)">
        <h2 style="margin:0 0 8px;font-size:16px;">Core Code Implementationï¼ˆæ ¸å¿ƒä»£ç ï¼‰</h2>
        <div style="background:rgba(0,0,0,0.5); border:1px solid rgba(255,255,255,0.1); border-radius:8px; padding:12px; font-family:ui-monospace,Menlo,Consolas,monospace; font-size:12px; color:#8bffcf; margin:8px 0; overflow-x:auto;">
# Self-Consistency Implementation<br>
<br>
// Sample diverse reasoning paths and aggregate answers<br>
<span style="color:#569cd6;">def</span> <span style="color:#dcdcaa;">self_consistency_prompt</span>(question, cot_prompt, num_samples=40, temperature=0.7):<br>
&nbsp;&nbsp;&nbsp;&nbsp;"""Implement self-consistency over chain-of-thought prompting"""<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;answers = []<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#569cd6;">for</span> _ <span style="color:#569cd6;">in</span> range(num_samples):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#6a9955;"># Sample a reasoning path using chain-of-thought</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_prompt = cot_prompt + question<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reasoning_path = sample_from_model(full_prompt, temperature=temperature, top_k=40)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#6a9955;"># Extract final answer from reasoning path</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final_answer = extract_answer(reasoning_path)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;answers.append(final_answer)<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#6a9955;"># Majority vote to find most consistent answer</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;consistent_answer = majority_vote(answers)<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#569cd6;">return</span> consistent_answer<br>
<br>
// Example chain-of-thought prompt<br>
cot_prompt = """Q: There are 3 cars in the parking lot and 2 more cars arrive. How many cars are in the parking lot?<br>
A: There are 3 cars in the parking lot already. 2 more arrive. Now there are 3 + 2 = 5 cars. The answer is 5.<br>
<br>
Q: If there are 17 apples and 9 are eaten, how many are left?<br>
A: There are 17 apples. 9 are eaten. So 17 - 9 = 8 apples are left. The answer is 8.<br>
<br>
"""<br>
<br>
// Usage example<br>
question = "Q: Janet's ducks lay 16 eggs per day. She eats three for breakfast every morning and bakes muffins for her friends every day with four. She sells the remainder for $2 per egg. How much does she make every day?"<br>
<br>
<span style="color:#6a9955;"># Self-consistency sampling might generate multiple paths:</span><br>
<span style="color:#6a9955;"># Path 1: "She has 16 - 3 - 4 = 9 eggs left. 9 * $2 = $18. Answer: 18"</span><br>
<span style="color:#6a9955;"># Path 2: "She uses 3 + 4 = 7 eggs. Remainder 16 - 7 = 9 eggs. 9 * $2 = $18. Answer: 18"</span><br>
<span style="color:#6a9955;"># Path 3: "Total eggs: 16. Consumed: 3 + 4 = 7. Sold: 9 eggs * $2 = $18. Answer: 18"</span><br>
<span style="color:#6a9955;"># Majority vote: 18 (appears in all 3 paths)</span><br>
        </div>
      </div>
    </div>
</section>
</body>
</html>
