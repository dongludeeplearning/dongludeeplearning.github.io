<!doctype html>
<html>
<head>
<meta charset="utf-8">
<style>
  :root{
      --bg:#0b1020;
      --panel:#0f1733;
      --panel2:#0c1430;
      --text:#e8ecff;
      --muted:#aeb7e6;
      --border:rgba(255,255,255,.10);
      --accent:#7aa2ff;
      --accent2:#8bffcf;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 16px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  }
  body {
    background: transparent;
    background-color: var(--bg);
    color: var(--text);
    font-family: var(--sans);
    margin: 0;
    padding: 16px;
    box-sizing: border-box;
  }
  ::-webkit-scrollbar { width: 8px; height: 8px; }
  ::-webkit-scrollbar-track { background: rgba(0,0,0,0.1); }
  ::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.15); border-radius: 4px; }
  ::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.25); }
</style>
</head>
<body>
<section style="max-width:980px;margin:0 auto;">
    <div style="padding:16px;border:1px solid rgba(255,255,255,.10);border-radius:16px;background:rgba(0,0,0,.10); position: relative;">
      <button onclick="toggleLang(this)" style="position: absolute; top: 16px; right: 16px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: #aeb7e6; padding: 4px 10px; border-radius: 8px; cursor: pointer; font-size: 12px;">中 / En</button>
      <div style="font-family:ui-monospace,Menlo,Consolas,monospace;color:rgba(232,236,255,.7);font-size:12px;">
        Paper Digest • NeurIPS 2020
      </div>
      <h1 style="margin:6px 0 0;font-size:22px;line-height:1.25;">Denoising Diffusion Probabilistic Models (DDPM)</h1>
      <div style="margin-top:6px;color:rgba(232,236,255,.6);font-size:12px;line-height:1.5;">
        Jonathan Ho, Ajay Jain, Pieter Abbeel <br>
        <span style="opacity:0.8">UC Berkeley</span>
      </div>
      <div style="margin-top:12px;padding-top:12px;border-top:1px solid rgba(255,255,255,.08);color:rgba(232,236,255,.75);font-size:13px;line-height:1.6;">
        <div class="lang-en">
            <b>One-Sentence Problem:</b> Can we achieve high-quality image synthesis using diffusion probabilistic models, challenging the dominance of GANs?
        </div>
        <div class="lang-zh" style="display:none">
            <b>一句话问题：</b>我们能否使用扩散概率模型实现高质量的图像合成，从而挑战 GAN 的主导地位？
        </div>
      </div>
    </div>
  
    <div style="display:grid;grid-template-columns:1fr;gap:14px;margin-top:14px;">
      <div style="padding:16px;border:1px solid rgba(255,255,255,.10);border-radius:16px;background:rgba(0,0,0,.10); position: relative;">
        <button onclick="toggleLang(this)" style="position: absolute; top: 16px; right: 16px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: #aeb7e6; padding: 4px 10px; border-radius: 8px; cursor: pointer; font-size: 12px;">中 / En</button>
        <h2 style="margin:0 0 8px;font-size:16px;">Contributions（贡献）</h2>
        <ul style="margin:0;padding-left:18px;color:rgba(232,236,255,.80);line-height:1.65;">
          <li style="margin-bottom:8px;">
            <div class="lang-en"><b>High-Quality Synthesis:</b> Demonstrated that diffusion models can generate high-quality images competitive with GANs, achieving SOTA IS on CIFAR-10.</div>
            <div class="lang-zh" style="display:none"><b>高质量合成：</b>证明了扩散模型可以生成与 GAN 媲美的高质量图像，并在 CIFAR-10 上取得了 SOTA 的 IS 分数。</div>
          </li>
          <li style="margin-bottom:8px;">
            <div class="lang-en"><b>Simplified Objective:</b> Proposed a simplified loss function (predicting the noise) that improves sample quality compared to the standard variational lower bound.</div>
            <div class="lang-zh" style="display:none"><b>简化的目标函数：</b>提出了一种简化的损失函数（预测噪声），与标准的变分下界相比，提高了样本质量。</div>
          </li>
          <li>
            <div class="lang-en"><b>Connection to Score Matching:</b> Established a clear equivalence between diffusion models and denoising score matching with Langevin dynamics during sampling.</div>
            <div class="lang-zh" style="display:none"><b>与分数匹配的联系：</b>确立了扩散模型与采样时的朗之万动力学去噪分数匹配之间的明确等价关系。</div>
          </li>
        </ul>
      </div>

      <div style="padding:16px;border:1px solid rgba(255,255,255,.10);border-radius:16px;background:rgba(0,0,0,.10); position: relative;">
        <h2 style="margin:0 0 8px;font-size:16px;">Intro Figure（示例）</h2>
        <div style="border-radius:14px; overflow:hidden;">
            <img src="Figures/DDPM_intro.png" style="width:100%; border-radius:12px; border:1px solid rgba(255,255,255,.12); display:block;" />
        </div>
      </div>
  
      <div style="padding:16px;border:1px solid rgba(255,255,255,.10);border-radius:16px;background:rgba(0,0,0,.10); position: relative;">
        <button onclick="toggleLang(this)" style="position: absolute; top: 16px; right: 16px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: #aeb7e6; padding: 4px 10px; border-radius: 8px; cursor: pointer; font-size: 12px;">中 / En</button>
        <h2 style="margin:0 0 8px;font-size:16px;">Challenges（挑战）</h2>
        <ul style="margin:0;padding-left:18px;color:rgba(232,236,255,.80);line-height:1.65;">
          <li style="margin-bottom:8px;">
            <div class="lang-en"><b>Training Stability & Quality:</b> Prior to this work, diffusion models were difficult to train to generate high-resolution, high-fidelity images compared to GANs.</div>
            <div class="lang-zh" style="display:none"><b>训练稳定性与质量：</b>在此工作之前，与 GAN 相比，扩散模型难以训练生成高分辨率、高保真的图像。</div>
          </li>
          <li>
            <div class="lang-en"><b>Sampling Speed:</b> The iterative sampling process (Markov chain) involves thousands of steps, making inference significantly slower than GANs.</div>
            <div class="lang-zh" style="display:none"><b>采样速度：</b>迭代采样过程（马尔可夫链）涉及数千个步骤，使得推理速度显著慢于 GAN。</div>
          </li>
        </ul>
      </div>
  
      <div style="padding:16px;border:1px solid rgba(255,255,255,.10);border-radius:16px;background:rgba(0,0,0,.10); position: relative;">
        <button onclick="toggleLang(this)" style="position: absolute; top: 16px; right: 16px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: #aeb7e6; padding: 4px 10px; border-radius: 8px; cursor: pointer; font-size: 12px;">中 / En</button>
        <h2 style="margin:0 0 8px;font-size:16px;">Method（解决方法）</h2>
        <ol style="margin:0;padding-left:18px;color:rgba(232,236,255,.80);line-height:1.65;">
          <li style="margin-bottom:8px;">
            <div class="lang-en"><b>Forward Process:</b> Define a fixed Markov chain that gradually adds Gaussian noise to the data according to a variance schedule until it becomes pure noise.</div>
            <div class="lang-zh" style="display:none"><b>前向过程：</b>定义一个固定的马尔可夫链，根据方差调度逐渐向数据添加高斯噪声，直到其变成纯噪声。</div>
          </li>
          <li style="margin-bottom:8px;">
            <div class="lang-en"><b>Reverse Process:</b> Learn a parameterized Markov chain (using a U-Net) to reverse the noise, predicting the mean of the Gaussian distribution at each step.</div>
            <div class="lang-zh" style="display:none"><b>反向过程：</b>学习一个参数化的马尔可夫链（使用 U-Net）来去除噪声，预测每一步高斯分布的均值。</div>
          </li>
          <li>
            <div class="lang-en"><b>Simple Loss:</b> Instead of predicting the image directly, the model predicts the noise added at each step using a simple MSE loss: ||ε - ε_θ||^2.</div>
            <div class="lang-zh" style="display:none"><b>简化损失：</b>模型不直接预测图像，而是使用简单的 MSE 损失预测每一步添加的噪声：||ε - ε_θ||^2。</div>
          </li>
        </ol>
      </div>
  
      <div style="padding:16px;border:1px solid rgba(255,255,255,.10);border-radius:16px;background:rgba(0,0,0,.10)">
        <h2 style="margin:0 0 8px;font-size:16px;">Overview Figure（示意图）</h2>
        <div style="border:1px dashed rgba(255,255,255,.18);border-radius:14px;padding:16px;color:rgba(232,236,255,.65);line-height:1.6;">
           <img src="Figures/DDPM_overview01.png" style="width:100%;border-radius:12px;border:1px solid rgba(255,255,255,.12);margin-bottom:12px;" />
           <img src="Figures/DDPM_overview02.png" style="width:100%;border-radius:12px;border:1px solid rgba(255,255,255,.12)" />
        </div>
      </div>

      <div style="padding:16px;border:1px solid rgba(255,255,255,.10);border-radius:16px;background:rgba(0,0,0,.10); position: relative;">
        <button onclick="toggleLang(this)" style="position: absolute; top: 16px; right: 16px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: #aeb7e6; padding: 4px 10px; border-radius: 8px; cursor: pointer; font-size: 12px;">中 / En</button>
        <h2 style="margin:0 0 8px;font-size:16px;">Experiments（实验）</h2>
        <ul style="margin:0;padding-left:18px;color:rgba(232,236,255,.80);line-height:1.65;">
          <li style="margin-bottom:12px;">
            <div class="lang-en">
                <b>Datasets & Metrics:</b>
                Experiments were conducted on CIFAR-10 (32x32) and LSUN (256x256). Evaluated using Inception Score (IS), FID (Fréchet Inception Distance), and Negative Log Likelihood (NLL).
            </div>
            <div class="lang-zh" style="display:none">
                <b>数据集与指标：</b>
                实验在 CIFAR-10 (32x32) 和 LSUN (256x256) 上进行。使用 Inception Score (IS)、FID 和负对数似然 (NLL) 进行评估。
            </div>
          </li>
          <li style="margin-bottom:12px;">
            <div class="lang-en">
                <b>Sample Quality (CIFAR-10):</b>
                DDPM achieved an FID of 3.17 on CIFAR-10, outperforming most GAN models at the time. The generated samples showed high diversity and fidelity.
            </div>
            <div class="lang-zh" style="display:none">
                <b>样本质量 (CIFAR-10)：</b>
                DDPM 在 CIFAR-10 上达到了 3.17 的 FID，优于当时大多数 GAN 模型。生成的样本展示了高度的多样性和保真度。
            </div>
          </li>
          <li style="margin-bottom:12px;">
            <div class="lang-en">
                <b>NLL vs. Sample Quality:</b>
                Interestingly, while the simplified loss produced better sample quality (lower FID), the variational bound loss yielded better NLL (compression), highlighting a trade-off between perceptual quality and likelihood.
            </div>
            <div class="lang-zh" style="display:none">
                <b>NLL 与 样本质量：</b>
                有趣的是，虽然简化损失产生了更好的样本质量（更低的 FID），但变分下界损失产生了更好的 NLL（压缩），凸显了感知质量和似然之间的权衡。
            </div>
          </li>
        </ul>
      </div>
  
      <div style="padding:16px;border:1px solid rgba(255,255,255,.10);border-radius:16px;background:rgba(0,0,0,.10); position: relative;">
        <button onclick="toggleLang(this)" style="position: absolute; top: 16px; right: 16px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: #aeb7e6; padding: 4px 10px; border-radius: 8px; cursor: pointer; font-size: 12px;">中 / En</button>
        <h2 style="margin:0 0 8px;font-size:16px;">Discussion（讨论）</h2>
        <ul style="margin:0;padding-left:18px;color:rgba(232,236,255,.80);line-height:1.65;">
          <li style="margin-bottom:12px;">
            <div class="lang-en">
                <b>Inductive Bias:</b>
                The U-Net architecture provides a strong inductive bias for image data, which is crucial for the model's performance. The shared weights across time steps allow the model to learn a unified denoising process.
            </div>
            <div class="lang-zh" style="display:none">
                <b>归纳偏置：</b>
                U-Net 架构为图像数据提供了强大的归纳偏置，这对模型的性能至关重要。时间步之间的共享权重允许模型学习统一的去噪过程。
            </div>
          </li>
          <li style="margin-bottom:12px;">
            <div class="lang-en">
                <b>Progressive Coding:</b>
                The discussion frames the diffusion process as a form of progressive lossy decompression (autoregressive decoding), where fine details are added stochastically as the noise is removed.
            </div>
            <div class="lang-zh" style="display:none">
                <b>渐进式编码：</b>
                讨论将扩散过程框架化为一种形式的渐进式有损解压（自回归解码），随着噪声的去除，细节被随机地添加进来。
            </div>
          </li>
        </ul>
        
        <div style="margin-top:16px; padding-top:12px; border-top:1px dashed rgba(255,255,255,.15);">
             <h3 style="margin:0 0 6px; font-size:14px; color:#8bffcf;">High-Level Insights: Why it Works?</h3>
             <div class="lang-en" style="color:rgba(232,236,255,.80); font-size:13px; line-height:1.6;">
                DDPM succeeds by simplifying the training target. Instead of predicting the complex distribution of the image directly, it predicts the noise—a much simpler, Gaussian distributed target—at various scales. By breaking down the generation process into thousands of small, reversible denoising steps, the model avoids the mode collapse common in GANs and learns to cover the entire data distribution smoothly.
             </div>
             <div class="lang-zh" style="display:none; color:rgba(232,236,255,.80); font-size:13px; line-height:1.6;">
                DDPM 的成功在于简化了训练目标。它不直接预测图像的复杂分布，而是预测噪声——一个简单得多的高斯分布目标——在不同的尺度上。通过将生成过程分解为数千个微小的、可逆的去噪步骤，模型避免了 GAN 中常见的模式崩溃，并学会了平滑地覆盖整个数据分布。
             </div>
        </div>
      </div>

      <div style="padding:16px;border:1px solid rgba(255,255,255,.10);border-radius:16px;background:rgba(0,0,0,.10); position: relative;">
        <button onclick="toggleLang(this)" style="position: absolute; top: 16px; right: 16px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: #aeb7e6; padding: 4px 10px; border-radius: 8px; cursor: pointer; font-size: 12px;">中 / En</button>
        <h2 style="margin:0 0 8px;font-size:16px;">Conclusion（结论）</h2>
        <ul style="margin:0;padding-left:18px;color:rgba(232,236,255,.80);line-height:1.75;">
          <li style="margin-bottom:8px;">
            <div class="lang-en">This paper presents a high-quality image synthesis results using diffusion probabilistic models.</div>
            <div class="lang-zh" style="display:none">本文展示了使用扩散概率模型实现的高质量图像合成结果。</div>
          </li>
          <li style="margin-bottom:8px;">
            <div class="lang-en">It establishes connections between diffusion models and Langevin dynamics, providing a solid theoretical foundation.</div>
            <div class="lang-zh" style="display:none">它建立了扩散模型与朗之万动力学之间的联系，提供了坚实的理论基础。</div>
          </li>
          <li>
            <div class="lang-en">The work paves the way for diffusion models to become a dominant class of generative models alongside GANs and VAEs.</div>
            <div class="lang-zh" style="display:none">这项工作为扩散模型成为与 GAN 和 VAE 并列的主流生成模型铺平了道路。</div>
          </li>
        </ul>
      </div>

      <div style="padding:16px;border:1px solid rgba(255,255,255,.10);border-radius:16px;background:rgba(0,0,0,.10); display:flex; align-items:center; gap:12px;">
        <h2 style="margin:0;font-size:16px;">Official Code:</h2>
        <a href="https://github.com/hojonathanho/diffusion" target="_blank" style="display:flex; align-items:center; gap:6px; color:#8bffcf; text-decoration:none; font-family:ui-monospace,monospace; font-size:13px; border:1px solid rgba(139,255,207,0.3); padding:6px 12px; border-radius:8px; background:rgba(139,255,207,0.05); transition: all 0.2s ease;">
          <svg height="16" viewBox="0 0 16 16" width="16" style="fill:currentColor"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
          github.com/hojonathanho/diffusion
        </a>
      </div>

      <div style="padding:16px;border:1px solid rgba(255,255,255,.10);border-radius:16px;background:rgba(0,0,0,.10); position: relative;">
        <button onclick="toggleLang(this)" style="position: absolute; top: 16px; right: 16px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: #aeb7e6; padding: 4px 10px; border-radius: 8px; cursor: pointer; font-size: 12px;">中 / En</button>
        <h2 style="margin:0 0 8px;font-size:16px;">Core Code Implementation（核心代码）</h2>
        <div style="font-size:13px;line-height:1.6;color:rgba(232,236,255,.80);">
            <div class="lang-en">
                Below shows the simplified training objective function <b>L_simple</b> which predicts the noise epsilon.
            </div>
            <div class="lang-zh" style="display:none">
                下方展示了简化的训练目标函数 <b>L_simple</b>，它负责预测噪声 epsilon。
            </div>
        </div>
        
        <div style="position:relative; margin-top:12px; background:rgba(0,0,0,.3); border:1px solid rgba(255,255,255,.1); border-radius:8px; padding:12px; overflow-x:auto;">
            <a href="https://github.com/hojonathanho/diffusion/blob/master/diffusion_tf/diffusion_utils_2.py#L182" target="_blank" style="position:absolute; top:8px; right:8px; background:rgba(255,255,255,0.1); border:1px solid rgba(255,255,255,0.15); color:#8bffcf; font-size:10px; padding:4px 8px; border-radius:4px; text-decoration:none; font-family:var(--mono);">Original TF Code</a>
<pre style="margin:0; font-family:Menlo,Consolas,monospace; font-size:12px; color:#d4d4d4;">
<span style="color:#6a9955;"># Simplified Loss Calculation (Conceptual PyTorch equivalent)</span>
<span style="color:#569cd6;">def</span> <span style="color:#dcdcaa;">p_losses</span>(denoise_model, x_start, t, noise=<span style="color:#569cd6;">None</span>):
    <span style="color:#569cd6;">if</span> noise <span style="color:#569cd6;">is</span> <span style="color:#569cd6;">None</span>:
        noise = torch.randn_like(x_start)
    
    <span style="color:#6a9955;"># q_sample: Add noise to data at step t</span>
    x_noisy = q_sample(x_start=x_start, t=t, noise=noise)
    
    <span style="color:#6a9955;"># Predict the noise using the model</span>
    predicted_noise = denoise_model(x_noisy, t)
    
    <span style="color:#6a9955;"># Simple MSE loss between actual noise and predicted noise</span>
    loss = F.mse_loss(noise, predicted_noise)
    
    <span style="color:#569cd6;">return</span> loss
</pre>
        </div>
      </div>
    </div>
  </section>
  <script>
    function toggleLang(btn) {
      const container = btn.closest('div');
      const enElements = container.querySelectorAll('.lang-en');
      const zhElements = container.querySelectorAll('.lang-zh');
      
      enElements.forEach(el => {
        el.style.display = (el.style.display === 'none') ? 'block' : 'none';
      });
      
      zhElements.forEach(el => {
        el.style.display = (el.style.display === 'none') ? 'block' : 'none';
      });
    }
  </script>
</body>
</html>
